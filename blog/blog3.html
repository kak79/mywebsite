<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Kimberly Kohel-Hayes's HomePage.">
    <title>Kimberly Kohel-Hayes - Software Engineer, Blog, Computer Programming</title>
    <link rel="stylesheet" href="/css/pure/pure-min.css">
    <link rel="stylesheet" href=blog3.css>
</head>
  <body>
    <div id="layout">
      <a href="#menu" id="menuLink" class="menu-link"><span></span></a>
      <div id="menu">
        <div class="pure-menu"></br></br>
          <ul class="pure-menu-list"></br>
            <li class="pure-menu-item"><a href="../home.html" class="pure-menu-link">Home</a></li></br>
            <li class="pure-menu-item"><a href="../resume.html" class="pure-menu-link">Resume</a></li></br>
            <li class="pure-menu-item"><a href="../portfolio.html" class="pure-menu-link">Portfolio</a></li></br>
            <li class="pure-menu-item"><a href="../about.html" class="pure-menu-link">About</a></li></br>
            <li class="pure-menu-item"><a href="../blog.html" class="pure-menu-link">Blog</a></li></br>
            <li class="pure-menu-item"><a href="../contact.html" class="pure-menu-link">Contact</a></li>
          </ul>
        </div>
      </div>

      <div id="main">
        <div class="header">
            <h1>Blog</h1>
            <h2>
                <span>
                  <a href="../home.html">Home</a>&nbsp;&middot;                    
                  <a href="../resume.html">Resume</a>&nbsp;&middot;
                  <a href="../portfolio.html">Portfolio</a>&nbsp;&middot;
                  <a href="../about.html">About</a>&nbsp;&middot;
                  <a href="../blog.html">Blog</a>&nbsp;&middot;
                  <a href="../contact.html">Contact</a>
                </span>
              </h2>
        </div>      
<div class="content pure-u-1 pure-u-md-3-4">
  <div>
          <!-- A single blog post -->
          <section class="post">
              <header class="post-header">
                <div class="post-description">
                    <div class="post-images pure-g">
                        <div class="pure-u-1 pure-u-md-1-2">
                                <img alt="The Final Hash Variable"
                                     class="pure-img-responsive"
                                     src="API8.jpg">
                            <div class="post-image-meta">
                                <h3>The Final Hash Variable</h3>
                            </div>
                        </div>  
                    </div>
                </div>
                  <h2 class="post-title">Selecting Hashes from an API</h2>
              </header>
              <div class="post-content">
                  <p>
                    Selecting hashes from an API can seem like a very complicated process, so let's take it one step at a time. We will be storing everything in variables for ease of access. The definition to a variable can be found <a href="https://en.wikipedia.org/wiki/Variable_(computer_science)">here</a>.
                  </p>
                  <p>The first thing we are going to do is set our API equal to a variable named response. Then we are going to put in a pry (see more about pry <a href="https://github.com/pry/pry">here</a>) and look at our available hash.</p>
                    <div class="post-images pure-g">
                        <div class="pure-u-1 pure-u-md-1-2">
                                <img alt="1st pry of variable response"
                                     class="pure-img-responsive"
                                     src="API2.jpg">
                            
                        </div>  
                    </div>
                </div>                 
                  <p>We want to select a key from response that has multiple keys as it's value. If we look closely, 'page'=>1,'per_page'=>1 so they each have individual returns and 'photos'=>[{ which means not only does it have an array, it has an array of hashes.</p>
                  <p>We are going to save 'photos' into the variable photos_array like this and run the pry again to select our next key.</p>
                <div class="post-images pure-g">
                    <div class="pure-u-1 pure-u-md-1-2">
                            <img alt="variable photos_array"
                                 class="pure-img-responsive"
                                 src="API3.jpg">
                        
                    </div>  
                </div>
            <div class="post-images pure-g">
                <div class="pure-u-1 pure-u-md-1-2">
                        <img alt="pry of photos_array"
                             class="pure-img-responsive"
                             src="API4.jpg">
                    
                </div>  
            </div>        
                  <p>We are going to pick three. 'photographer', 'photographer_url', and 'src'=>'original'
                    So using our binding.pry we gradually develop these three lines of code:</p>
                    <div class="post-images pure-g">
                        <div class="pure-u-1 pure-u-md-1-2">
                                <img alt="code in need of refactoring"
                                     class="pure-img-responsive"
                                     src="API5.jpg">
                            
                        </div>  
                    </div>
                  <p>This code will work. But it isn't very DRY code. Don't Repeat Yourself! We are going to refactor this code next.</p>
                  <p> Because we want to iterate over three things we are going to use the .each method, naming our variable photographer_hash and setting up the block something like this:</p>
                  <div class="post-images pure-g">
                    <div class="pure-u-1 pure-u-md-1-2">
                            <img alt="first version of the .each method"
                                 class="pure-img-responsive"
                                 src="API6.jpg">
                        
                    </div>  
                </div>
                  <p>Now we have a new Photographer object that iterates through my API and returns all of the values. But it could still be better. Instead of Photographer.new...., we are going to set up a new variable called info_hash. Set it equal to:</p>
                  <div class="post-images pure-g">
                    <div class="pure-u-1 pure-u-md-1-2">
                            <img alt="info_hash"
                                 class="pure-img-responsive"
                                 src="API7.jpg"> 
                        
                    </div>  
                </div>
                  <p>The reasons behind the locally defined keys pic_taker, pic_taker_url, and orig_url have more to do with OOP and classes than APIs and refactoring so will not be gone into here. Just understand that they were defined in another class. The last thing to do here is to put Photographer.new back in with its new argument of info_hash with the resulting API looking like this: </p>
                  <div class="post-images pure-g">
                    <div class="pure-u-1 pure-u-md-1-2">
                            <img alt="final hash"
                                 class="pure-img-responsive"
                                 src="API8.jpg"> 
                        
                    </div>  
                </div> 
                  <p>All of the code examples in this article and their associated files can be found <a href="https://github.com/kak79/CLI-PROJECT">here</a>. </p> 
           
     
<div class="pure-g" >
  <div class="pure-u-1-3">
    <button class="pure-button1" onclick="window.location.href='blog2.html';">Previous</button>
    <button class="pure-button2" onclick="window.location.href='blog4.html';">Next</button>
  </div>
</div>   
</section>

          
      <div class="footer">
        <a href="https://twitter.com/kim_ka96"><img src="twitter.jpg"alt="Kimberly Kohel-Hayes's Twitter Profile" height="30" width="30"></a>&nbsp;&nbsp;&nbsp;
        <a href="https://dev.to/kak79"><img src="https://d2fltix0v2e0sb.cloudfront.net/dev-badge.svg" alt="Kimberly Kohel-Hayes's DEV Profile" height="30" width="30"></a>&nbsp;&nbsp;&nbsp;
        <a href='https://www.linkedin.com/in/kimberly-kohel-hayes-7b7413191/'><img src="linkedin.jpg"alt="Kimberly Kohel-Hayes's LinkedIn Profile" height="30" width="30"></a>&nbsp;&nbsp;&nbsp;
        <a href='https://stackoverflow.com/users/13615178/kim'><img src="stack.jpg"alt="Kimberly Kohel-Hayes's Stack Overflow Profile" height="30" width="30"></a>&nbsp;&nbsp;&nbsp;
        <a href='https://github.com/kak79?tab=repositories'><img src="git.png"alt="Kimberly Kohel-Hayes's Git Hub Repositories" height="30" width="30"></a>
        <p class="licence">&copy; Kimberly A Kohel-Hayes</p>
      </div>  
    </div>
<script src="../js/ui.js"></script>
  </body>
</html>